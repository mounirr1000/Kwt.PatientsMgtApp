@model Kwt.PatientsMgtApp.Core.Models.PatientModel

@{
    ViewBag.Title = "Edit Patient";
}


@using (Html.BeginForm("Edit", "Patient", FormMethod.Post, new { @class = ".k-form" }))
{

    <div class="mt-3">
        <p>
            @*<input type="submit" value="Save" class="k-button m-3"/>*@
            <a href="@Url.Action("Details",new {patientCid = Model.PatientCID})" class="k-button"><i class="fa fa-ban" style="color: lightblue"></i> Cancel</a>
            @*@Html.ActionLink("Back to List", "Index", null, new {@class = "k-button m-3"})*@
            <button type="submit" class="k-button"><i class="fa fa-check" style="color: greenyellow"></i> Update</button>
        </p>
    </div>


            @Html.AntiForgeryToken()

    <div class="form-horizontal">
        @Html.ValidationSummary(true, "", new { @class = "text-danger" })
        @Html.HiddenFor(model => model.PatientCID)
        @Html.HiddenFor(model => model.Id)

        <fieldset>
            <legend>Patient Details</legend>
            <ul class="fieldlist">
                <li>

                    @Html.LabelFor(model => model.PatientFName, new { @class = "" })

                    @Html.TextBoxFor(model => model.PatientFName, new { @class = "k-textbox", style = "width: 100%;" })
                    @Html.ValidationMessageFor(model => model.PatientFName, "", new { @class = "text-danger" })

                </li>
                <li>

                    @Html.LabelFor(model => model.PatientMName, new { @class = "" })

                    @Html.TextBoxFor(model => model.PatientMName, new { @class = "k-textbox", style = "width: 100%;" })
                    @Html.ValidationMessageFor(model => model.PatientMName, "", new { @class = "text-danger" })


                </li>
                <li>

                    @Html.LabelFor(model => model.PatientLName, new { @class = "" })

                    @Html.TextBoxFor(model => model.PatientLName, new { @class = "k-textbox", style = "width: 100%;" })
                    @Html.ValidationMessageFor(model => model.PatientLName, "", new { @class = "text-danger" })


                </li>
                <li>

                    @Html.LabelFor(model => model.KWTPhone, new { @class = "" })

                    @Html.TextBoxFor(model => model.KWTPhone, new { @class = "k-textbox", style = "width: 100%;" })
                    @Html.ValidationMessageFor(model => model.KWTPhone, "", new { @class = "text-danger" })


                </li>
                <li>

                    @Html.LabelFor(model => model.USPhone, htmlAttributes: new { @class = "" })

                    @Html.TextBoxFor(model => model.USPhone, new { @class = "k-textbox", style = "width: 100%;" })
                    @Html.ValidationMessageFor(model => model.USPhone, "", new { @class = "text-danger" })


                </li>
                <li>

                    @Html.LabelFor(model => model.Agency, new { @class = "" })

                    @*@Html.EditorFor(model => model.Agency, new { htmlAttributes = new { @class = "form-control" } })*@
                    @Html.DropDownListFor(model => model.Agency, new List<SelectListItem>(Model.Agencies.Select(a => new SelectListItem()
                       {
                           Text = a.AgencyName,
                           Value = a.AgencyName

                       }).ToList()), "", new { style = "width:50%" })
                    @Html.ValidationMessageFor(model => model.Agency, "", new { @class = "text-danger" })


                </li>

            </ul>
        </fieldset>
        <fieldset>
            <legend>Dignosis Details</legend>
            <ul class="fieldlist">

                <li>

                    @Html.LabelFor(model => model.Hospital, new { @class = "" })

                    @*@Html.EditorFor(model => model.Hospital, new { htmlAttributes = new { @class = "form-control" } })*@
                    @Html.DropDownListFor(model => model.Hospital, new List<SelectListItem>(Model.Hospitals.Select(a => new SelectListItem()
                       {
                           Text = a.HospitalName,
                           Value = a.HospitalName

                       }).ToList()), "", new { style = "width:90%" })
                    @Html.ValidationMessageFor(model => model.Hospital, "", new { @class = "text-danger" })

                </li>
                <li>


                    @Html.LabelFor(model => model.Specialty, new { @class = "" })

                    @*@Html.EditorFor(model => model.Patient.Doctor, new { htmlAttributes = new { @class = "form-control" } })*@
                    @Html.DropDownListFor(model => model.Specialty, new List<SelectListItem>(Model.Sepcialities.Select(a => new SelectListItem()
                       {
                           Text = a.Speciality,
                           Value = a.Speciality

                       }).ToList()), "", new { style = "width:50%" })
                    @Html.ValidationMessageFor(model => model.Specialty, "", new { @class = "text-danger" })


                </li>
                <li>


                    @Html.LabelFor(model => model.Diagnosis, new { @class = "" })

                    @Html.TextAreaFor(model => model.Diagnosis, new { @class = "k-editor-textarea", style = "width: 100%;", maxlength = "250" })
                    @*@Html.TextBoxFor(model => model.Diagnosis, new { @class = "k-textbox", style = "width: 100%;" })*@
                    @Html.ValidationMessageFor(model => model.Diagnosis, "", new { @class = "text-danger" })


                </li>
                <li>

                    @Html.LabelFor(model => model.Doctor, new { @class = "" })

                    @*@Html.EditorFor(model => model.Doctor, new { htmlAttributes = new { @class = "form-control" } })*@
                    @Html.DropDownListFor(model => model.Doctor, new List<SelectListItem>(Model.Doctors.Select(a => new SelectListItem()
                       {
                           Text = a.DoctorName,
                           Value = a.DoctorName

                       }).ToList()), "", new { style = "width:50%" })
                    @Html.ValidationMessageFor(model => model.Doctor, "", new { @class = "text-danger" })

                </li>
            </ul>
        </fieldset>

        <fieldset>
            <legend>Bank Details</legend>
            <ul class="fieldlist">
                <li>

                    @Html.LabelFor(model => model.IsBeneficiary, new { @class = "k-checkbox-label" })

                    @Html.EditorFor(model => model.IsBeneficiary, new { @class = "k-checkbox" })
                    @Html.ValidationMessageFor(model => model.IsBeneficiary, "", new { @class = "text-danger" })

                </li>
                <li>
                    @Html.LabelFor(model => model.BankName, new { @class = "" })


                    @Html.DropDownListFor(model => model.BankName, new List<SelectListItem>(Model.Banks.Select(a => new SelectListItem()
                       {
                           Text = a.BankName,
                           Value = a.BankName

                       }).ToList()), "", new { style = "width:60%" })
                    @Html.ValidationMessageFor(model => model.BankName, "", new { @class = "text-danger" })


                </li>
                @*<li>
                             @Html.LabelFor(model => model.BankCode, new { @class = "" })


                             @Html.DropDownListFor(model => model.BankCode, new List<SelectListItem>(Model.Banks.Select(a => new SelectListItem()
                    {
                        Text = a.BankCode,
                        Value = a.BankCode

                    }).ToList()), "", new { style = "width:100%" })
                             @Html.ValidationMessageFor(model => model.BankCode, "", new { @class = "text-danger" })


                         </li>*@
                <li>

                    @Html.LabelFor(model => model.Iban, new { @class = "" })

                    @Html.TextBoxFor(model => model.Iban, new { @class = "k-textbox", style = "width:100%" })
                    @Html.ValidationMessageFor(model => model.Iban, "", new { @class = "text-danger" })

                </li>
            </ul>
        </fieldset>
        <fieldset>
            <legend>Treatment Details</legend>
            <ul class="fieldlist">
                <li>
                    @Html.LabelFor(model => model.FirstApptDAte, new { @class = "" })

                    @*@Html.EditorFor(model => model.FirstApptDAte, new { htmlAttributes = new { @class = "form-control" } })*@
                    @Html.TextBoxFor(model => model.FirstApptDAte, "{0:MM/dd/yyyy}", new { @class = "", style = "width: 60%" })
                    @Html.ValidationMessageFor(model => model.FirstApptDAte, "", new { @class = "text-danger" })


                </li>


                <li>
                    @Html.LabelFor(model => model.EndTreatDate, new { @class = "" })

                    @*@Html.EditorFor(model => model.EndTreatDate, new { htmlAttributes = new { @class = "form-control" } })*@
                    @Html.TextBoxFor(model => model.EndTreatDate, "{0:MM/dd/yyyy}", new { @class = "", style = "width: 60%" })
                    @Html.ValidationMessageFor(model => model.EndTreatDate, "", new { @class = "text-danger" })



                </li>


                <li>
                    @Html.LabelFor(model => model.IsActive, new { @class = "" })

                    @Html.EditorFor(model => model.IsActive, new { @class = "form-control", style = "width: 100%" })
                    @Html.ValidationMessageFor(model => model.IsActive, "", new { @class = "text-danger" })


                </li>


                <li>
                    @Html.LabelFor(model => model.Notes, new { @class = "" })

                    @Html.TextAreaFor(model => model.Notes, new { @class = "k-editor-textarea", maxlength = "250", style = "width: 100%" })
                    @Html.ValidationMessageFor(model => model.Notes, "", new { @class = "text-danger" })


                </li>


            </ul>
        </fieldset>

        <div class="mt-3">
            <p>

                @*<input type="submit" value="Save" class="k-button m-3"/>*@
                <a href="@Url.Action("Details", new {patientCid = Model.PatientCID})" class="k-button"><i class="fa fa-ban" style="color: lightblue"></i> Cancel</a>
                @*@Html.ActionLink("Back to List", "Index", null, new {@class = "k-button m-3"})*@
                <button type="submit" class="k-button"><i class="fa fa-check" style="color: greenyellow"></i> Update</button>
            </p>
        </div>

    </div>
}



@section scripts
{
    @Scripts.Render("~/bundles/jqueryval")
    <script type="text/javascript">
        //$('.datepicker').datepicker({
        //    dateFormat: "m/d/yy"
        //});
        $("#EndTreatDate, #FirstApptDAte").kendoDatePicker();

        $(document).ready(function () {
            $("#BankName, #Hospital, #Agency, #Specialty, #Doctor").kendoDropDownList();
            $("#KWTPhone").kendoMaskedTextBox({
                mask: "96500000000"
            });
            $("#USPhone").kendoMaskedTextBox({
                mask: "+10000000000"
            });
            $("#Iban").kendoMaskedTextBox({
                mask: "AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                //
            });
        });
    </script>

}
